<div class="timeline">
    <ul class="list-unstyled m-0">
        <!-- generated by code -->
    </ul>
</div>
<script>
    (function () {
        let ul = document.querySelector(".timeline>ul");
        // console.log(ul);
        let bookmarks = document.querySelectorAll("h4[data-bookmark]");;
        // console.log(bookmarks);
        for (let i = 0; i < bookmarks.length; i++) {
            // console.log(bookmarks[i]);
            bookmarks[i].id = `section${i + 1}`;
            ul.insertAdjacentHTML('beforeend', `<li><a href="#${bookmarks[i].id}">${bookmarks[i].textContent}</a></li>`);
            if (i == bookmarks.length - 1) {
                return;
            }
            ul.insertAdjacentHTML('beforeend', `<li>&nbsp;</li>`);
        }
    }())

    $(window).on("load", () => {
        //scroll trigger
        gsap.registerPlugin(ScrollTrigger);

        gsap.to(".timeline", {
            scrollTrigger: {
                trigger: "#footer",
                toggleActions: "play none none reverse"
            },
            opacity: 0,
            duration: 0.5
        })

    })
</script>
<style>
    .timeline {
        position: fixed;
        left: 5%;
        bottom: 20px;
        width: 200px;
        z-index: 100;
    }

    .timeline>ul {
        padding: 1rem;
        background-color: var(--dark);
        opacity: .8;
    }

    .timeline>ul>li {
        position: relative;
        box-sizing: border-box;
        border-left: 2px solid var(--white);
        color: var(--white);
    }

    .timeline>ul>li>a {
        display: inline-block;
        padding-left: 1rem;
        color: var(--white);
    }
</style>